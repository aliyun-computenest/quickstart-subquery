<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="计算巢是阿里云开放给企业应用服务商的服务管理平台。服务商能够在计算巢上发布私有化部署服务，为其客户提供云上软件一键部署的能力；同时也支持全托管模式的服务，赋能服务商托管其客户资源。">
  <title>SubQuery Network Node Operators Deployment Guide - Aliyun 计算巢 x Demo</title>

  <link rel="shortcut icon" href="img/favicon.ico">

  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
  <link rel="stylesheet" href="css/theme.css">
  

  

  
  

  
    <script src="search/main.js"></script>
  

  

  <script src="js/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>

<body>
  <div class="container">
    <div class="nav">
      <div class="nav-inner">
        <div class="logo">
          <img src="./img/logo-2x.png">
        </div>
        <div class="nav-list">
          <ul>
          
              <li><a href="#subquery-network-node-operators-deployment-guide">SubQuery Network Node Operators Deployment Guide</a></li>
              
                  <li><a href="#introduction">Introduction</a></li>
                  
              
                  <li><a href="#prerequisites">Prerequisites</a></li>
                  
              
                  <li><a href="#step-1-alibaba-cloud-account-setup">Step 1: Alibaba Cloud Account Setup</a></li>
                  
              
                  <li><a href="#step-2-access-compute-nest">Step 2: Access Compute Nest</a></li>
                  
              
                  <li><a href="#step-3-set-up-an-instance-and-its-parameters">Step 3: Set Up an Instance and Its Parameters</a></li>
                  
              
                  <li><a href="#step-4-deploy-your-service">Step 4: Deploy Your Service</a></li>
                  
              
                  <li><a href="#step-5-what-to-do-after-creating-the-ecs-instance">Step 5: What to do after creating the ECS instance</a></li>
                  
                      <li class="li-h3"><a href="#1-log-in-to-the-server">1. Log in to the server</a></li>
                  
                      <li class="li-h3"><a href="#2-register-new-node-operator">2. Register new node operator</a></li>
                  
              
                  <li><a href="#what-to-consider-in-docker-composeyml-v2">What to consider in docker-compose.yml [v2]</a></li>
                  
              
                  <li><a href="#what-to-consider-in-docker-composeyml-v1">What to consider in docker-compose.yml [v1]</a></li>
                  
              
                  <li><a href="#conclusion">Conclusion</a></li>
                  
              
          
          </ul>
        </div>
      </div>
    </div>
    <div class="content theme-github">
      
      <div class="content-inner">        
        
        <h1 id="subquery-network-node-operators-deployment-guide">SubQuery Network Node Operators Deployment Guide</h1>
<p>This tutorial provides a step-by-step guide to deploy SubQuery Network Node Operators using Alibaba Cloud Compute Nest and ECS. </p>
<h2 id="introduction">Introduction</h2>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before starting, ensure you have:</p>
<p>An active Alibaba Cloud account.
Familiarity with cloud services.</p>
<h2 id="step-1-alibaba-cloud-account-setup">Step 1: Alibaba Cloud Account Setup</h2>
<p>If you haven't already, sign up for an Alibaba Cloud account: Sign up (https://www.alibabacloud.com).</p>
<h2 id="step-2-access-compute-nest">Step 2: Access Compute Nest</h2>
<p>Navigate to Compute Nest and locate the service for SubQuery Network Node Operators</p>
<h2 id="step-3-set-up-an-instance-and-its-parameters">Step 3: Set Up an Instance and Its Parameters</h2>
<p>Configure the necessary parameters for the instance</p>
<p>Service Instance Name: Provide a meaningful name for the instance.
Instance Password: Create a secure password for the instance.</p>
<h2 id="step-4-deploy-your-service">Step 4: Deploy Your Service</h2>
<p>Review all configurations and accept the Terms of Service. Click Create Now to deploy your service.</p>
<h2 id="step-5-what-to-do-after-creating-the-ecs-instance">Step 5: What to do after creating the ECS instance</h2>
<h3 id="1-log-in-to-the-server">1. Log in to the server</h3>
<p>The node operator services are already configured to start automatically along with the server. You can log in to the server with the following command:</p>
<pre><code class="language-shell">ssh username@ip_address -L 8000:localhost:8000
</code></pre>
<p>And then you can access the subquery node operator coordinator by opening a browser and going to <code>http://localhost:8000</code>.</p>
<h3 id="2-register-new-node-operator">2. Register new node operator</h3>
<p>On the coordinator page, you can register as a new node operator by following the instructions and start to behave as a node operator.</p>
<blockquote>
<p>Refer to the <a href="https://academy.subquery.network/subquery_network/node_operators/setup/becoming-a-node-operator.html#_3-register-in-the-node-operator-admin-app">Register in the Node Operator Admin App</a> and the steps after that for more information.</p>
</blockquote>
<h2 id="what-to-consider-in-docker-composeyml-v2">What to consider in docker-compose.yml [v2]</h2>
<p>The <code>/home/subquery-indexer/docker-compose.yml</code> file is pre-configured for immediate use. However, you may need to adjust some settings like secret key, network endpoint, and other configurations.</p>
<blockquote>
<p>Refer to the <a href="https://academy.subquery.network/subquery_network/node_operators/setup/becoming-a-node-operator.html#port-configurations">Port configurations</a> and <a href="https://academy.subquery.network/subquery_network/node_operators/setup/becoming-a-node-operator.html#running-node-operator-services">Running Node Operator Services</a> for more information.</p>
</blockquote>
<h2 id="what-to-consider-in-docker-composeyml-v1">What to consider in docker-compose.yml [v1]</h2>
<p>The <code>/home/subquery-indexer/docker-compose.yml</code> file is pre-configured for immediate use. However, you may need to adjust the following settings:</p>
<p><strong>Coordinator and Proxy Services:</strong></p>
<ul>
<li><code>--secret-key</code>: Replace with a secure secret key. Ensure it is the same for both the coordinator and proxy services.</li>
<li><code>--network-endpoint</code>: Update to a higher rate-limited endpoint if necessary.</li>
</ul>
<p><strong>Coordinator Service:</strong></p>
<ul>
<li><code>ports:</code> Ensure the coordinator service is not exposed to the public network. This can be managed through Docker Compose configuration or firewall settings.</li>
</ul>
<p><strong>Proxy Service:</strong></p>
<ul>
<li><code>ports:</code> Ensure the proxy service is exposed to the public network. This requires configuration in both Docker Compose and firewall settings.</li>
<li>SSL Support: Consider adding a reverse proxy service like Nginx to support SSL.</li>
</ul>
<p><strong>Postgres Service:</strong></p>
<ul>
<li><code>POSTGRES_PASSWORD</code>: Replace with a secure password. Ensure it matches the <code>--postgres-password</code> in the coordinator service.</li>
</ul>
<p>Remember to restart the services after making any changes:</p>
<pre><code class="language-shell">cd /home/subquery-indexer
docker compose up -d
</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>This tutorial has guided you through the comprehensive process of building a SubQuery Network Node Operators service using Alibaba Cloud Compute Nest and ECS. Following these steps will help you to quickly deploy SubQuery Network Node Operators services on Alibaba Cloud.</p>
        
      </div>

      <div class="copyrights">© 2009-2022 Aliyun.com 版权所有</div>
    </div>
  </div>
  
  <!--
  MkDocs version      : 1.6.1
  Docs Build Date UTC : 2024-12-06 09:31:36.354272+00:00
  -->
</body>
</html>